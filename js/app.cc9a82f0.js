(function(){"use strict";var t={4182:function(t,a,n){var c=n(3751),o=n(810),e=n(641);function s(t,a,n,c,o,s){const u=(0,e.g2)("AccountsForm");return(0,e.uX)(),(0,e.Wv)(u)}var u,l=n(953),i=(n(8111),n(116),n(1701),n(33)),r=n.p+"img/delete.ff7f697a.svg";(function(t){t["local"]="Локальная",t["ldap"]="LDAP"})(u||(u={}));n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);function d(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16)))}const p={accounts:[{id:d(),tags:[{text:""}],accType:u.local,login:"",password:""}]},v=(0,o.nY)("accounts",{state:()=>p,actions:{addAccount(){this.$state.accounts.push({id:d(),tags:[{text:""}],accType:u.local,login:"",password:""})},deleteAccount(t){this.$state.accounts.splice(this.$state.accounts.findIndex((a=>a.id===t)),1),localStorage.setItem("accounts",JSON.stringify(this.accounts))},saveAccount(t){const a=this.accounts.findIndex((a=>a.id===t.id));this.accounts[a]={...t},localStorage.setItem("accounts",JSON.stringify(this.accounts))},loadAccounts(){const t=localStorage.getItem("accounts");t&&(this.accounts=JSON.parse(t))}}}),f={class:"accounts__select"},_=["value"],g={key:0,class:"accounts__password"},y={key:0,class:"accounts__eye-icon-hide"},h={key:1,class:"accounts__eye-icon-show"};var m=(0,e.pM)({__name:"AccountRow",props:{accountId:{type:String,require:!0}},setup(t){const a=v(),n=t,o=a.accounts.find((t=>t.id===n.accountId)),s=(0,l.KR)(!0),d=(0,l.KR)(""),p=(0,l.KR)(!0),m=(0,l.KR)(!0),k=(0,l.KR)(!0);function b(t){return t.trim()?t.split(";").map((t=>({text:t.trim()}))):[]}const w=()=>{if(!o)return;const t=/^[^;\s]+(;\s*[^;\s]+)*$/;p.value=t.test(d.value)||""===d.value,m.value=""!==o.login,k.value=o.password.length>=8||o.accType===u.ldap,p.value&&m.value&&k.value&&a.saveAccount({id:o.id,tags:b(d.value),accType:o.accType,login:o.login,password:o.password})};return(0,e.sV)((()=>{d.value=o?.tags.map((t=>t.text)).join("; ")||""})),(t,v)=>((0,e.uX)(),(0,e.CE)("div",{style:(0,i.Tr)({gridTemplateColumns:(0,l.R1)(o).accType===(0,l.R1)(u).ldap?"1fr 150px 2fr 40px":"1fr 150px 1fr 1fr 40px"}),class:"accounts__row"},[(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":v[0]||(v[0]=t=>d.value=t),class:(0,i.C4)([{"non-valid":!p.value},"accounts__input"]),maxlength:"50",type:"text",onBlur:w},null,34),[[c.Jo,d.value]]),(0,e.Lk)("div",f,[(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":v[1]||(v[1]=t=>(0,l.R1)(o).accType=t),onChange:w},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,l.R1)(u),((t,a)=>((0,e.uX)(),(0,e.CE)("option",{key:a,value:t},(0,i.v_)(t),9,_)))),128))],544),[[c.u1,(0,l.R1)(o).accType]])]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":v[2]||(v[2]=t=>(0,l.R1)(o).login=t),class:(0,i.C4)([{"long-login":(0,l.R1)(o).accType===(0,l.R1)(u).ldap,"non-valid":!m.value},"accounts__input"]),maxlength:"100",placeholder:"Логин",required:"",type:"text",onBlur:w},null,34),[[c.Jo,(0,l.R1)(o).login]]),(0,l.R1)(o).accType===(0,l.R1)(u).local?((0,e.uX)(),(0,e.CE)("div",g,[s.value?(0,e.bo)(((0,e.uX)(),(0,e.CE)("input",{key:0,"onUpdate:modelValue":v[3]||(v[3]=t=>(0,l.R1)(o).password=t),class:(0,i.C4)([{"non-valid":!k.value},"accounts__input hide"]),required:"",type:"password",onBlur:w},null,34)),[[c.Jo,(0,l.R1)(o).password]]):(0,e.bo)(((0,e.uX)(),(0,e.CE)("input",{key:1,"onUpdate:modelValue":v[4]||(v[4]=t=>(0,l.R1)(o).password=t),class:(0,i.C4)([{"non-valid":!k.value},"accounts__input show"]),required:"",type:"text",onBlur:w},null,34)),[[c.Jo,(0,l.R1)(o).password]]),(0,e.Lk)("button",{class:"accounts__eye",onClick:v[5]||(v[5]=t=>s.value=!s.value)},[s.value?((0,e.uX)(),(0,e.CE)("span",y)):((0,e.uX)(),(0,e.CE)("span",h))])])):(0,e.Q3)("",!0),(0,e.Lk)("div",{class:"accounts__delete",onClick:v[6]||(v[6]=t=>(0,l.R1)(a).deleteAccount(n.accountId))},v[7]||(v[7]=[(0,e.Lk)("img",{alt:"",src:r,width:"38"},null,-1)]))],4))}}),k=n(6262);const b=(0,k.A)(m,[["__scopeId","data-v-2237925a"]]);var w=b;const R={class:"accounts"},C={class:"accounts__header"},x={class:"accounts__form"},A={class:"accounts__rows"};var L=(0,e.pM)({__name:"AccountsForm",setup(t){const a=v();return(0,e.sV)((()=>{a.loadAccounts()})),(t,n)=>((0,e.uX)(),(0,e.CE)("div",R,[(0,e.Lk)("div",C,[n[1]||(n[1]=(0,e.Lk)("h1",{class:"accounts__title"},"Учетные записи",-1)),(0,e.Lk)("button",{class:"accounts__add",onClick:n[0]||(n[0]=t=>(0,l.R1)(a).addAccount())},"+")]),n[3]||(n[3]=(0,e.Lk)("div",{class:"accounts__info"},[(0,e.Lk)("span",{class:"accounts__info-icon"},"?"),(0,e.eW)(" Для указания нескольких меток для одной пары логин/пароль используйте разделитель ; ")],-1)),(0,e.Lk)("div",x,[n[2]||(n[2]=(0,e.Fv)('<div class="accounts__labels" data-v-7655398e><div class="accounts__label" data-v-7655398e>Метки</div><div class="accounts__label" data-v-7655398e>Тип записи</div><div class="accounts__label" data-v-7655398e>Логин</div><div class="accounts__label" data-v-7655398e>Пароль</div><div class="accounts__label" data-v-7655398e></div></div>',1)),(0,e.Lk)("div",A,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,l.R1)(a).accounts,(t=>((0,e.uX)(),(0,e.Wv)(w,{key:t,"account-id":t.id},null,8,["account-id"])))),128))])])]))}});const O=(0,k.A)(L,[["__scopeId","data-v-7655398e"]]);var T=O,E=(0,e.pM)({components:{AccountsForm:T}});const I=(0,k.A)(E,[["render",s]]);var X=I;const S=(0,c.Ef)(X);S.use((0,o.Ey)()),S.mount("#app")}},a={};function n(c){var o=a[c];if(void 0!==o)return o.exports;var e=a[c]={exports:{}};return t[c].call(e.exports,e,e.exports,n),e.exports}n.m=t,function(){var t=[];n.O=function(a,c,o,e){if(!c){var s=1/0;for(r=0;r<t.length;r++){c=t[r][0],o=t[r][1],e=t[r][2];for(var u=!0,l=0;l<c.length;l++)(!1&e||s>=e)&&Object.keys(n.O).every((function(t){return n.O[t](c[l])}))?c.splice(l--,1):(u=!1,e<s&&(s=e));if(u){t.splice(r--,1);var i=o();void 0!==i&&(a=i)}}return a}e=e||0;for(var r=t.length;r>0&&t[r-1][2]>e;r--)t[r]=t[r-1];t[r]=[c,o,e]}}(),function(){n.d=function(t,a){for(var c in a)n.o(a,c)&&!n.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:a[c]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){n.p="/saasoft-tz/"}(),function(){var t={524:0};n.O.j=function(a){return 0===t[a]};var a=function(a,c){var o,e,s=c[0],u=c[1],l=c[2],i=0;if(s.some((function(a){return 0!==t[a]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(l)var r=l(n)}for(a&&a(c);i<s.length;i++)e=s[i],n.o(t,e)&&t[e]&&t[e][0](),t[e]=0;return n.O(r)},c=self["webpackChunksaasoft_tz"]=self["webpackChunksaasoft_tz"]||[];c.forEach(a.bind(null,0)),c.push=a.bind(null,c.push.bind(c))}();var c=n.O(void 0,[504],(function(){return n(4182)}));c=n.O(c)})();
//# sourceMappingURL=app.cc9a82f0.js.map